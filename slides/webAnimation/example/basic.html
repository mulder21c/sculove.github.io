<html lang="ko">
<head>
<meta charset="utf-8">
<title>HTML5 Web Animation- setTimeout</title>
<meta name="description" content="animation">
<meta name="author" content="sculove. 손찬욱">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<style>
.wrap {
    position:relative;
}
.box {
    border-radius:5px;
    width : 100px;
    height : 100px;
    background-color: #400230;
    position:absolute;
    left : 0px;
    top : 0px;
    transform:translate3d(0,0,0);
}
button {
    margin:10px 0;
}
</style>
</head>
<body>
<button id="run">Run</button>
<div class="wrap">
    <div id="box" class="box"></div>
</div>
<script>
 var player;
document.getElementById("run").addEventListener("click", function(e) {
    player = document.getElementById("box").animate([
        { transform: 'scale(1)', opacity: 1},
        { transform: 'scale(.5)', opacity: .5},
        { transform: 'scale(.667)', opacity: .667},
        { transform: 'scale(.6)', opacity: .6}
    ], 3000);
    player.ready.then(function(e) {
        console.log("ready", e);
    }, function(e) {
        console.log("ready fail",e);
    });
    player.finished.then(function(e) {
        console.log("finished", e);
    }, function(e) {
        console.log("finished fail",e);
    })
});
</script>
</body>
</html>